\documentclass{report}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[a4paper]{geometry}
\usepackage{hyperref}
\usepackage{parskip}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{csquotes}
\usepackage{biblatex}
\usepackage{todonotes}
\usepackage{multicol}
\usepackage{float}
\usepackage{nth}

\addbibresource{sources.bib}

\definecolor{GrayCodeBlock}{RGB}{241,241,241}
\definecolor{BlackText}{RGB}{110,107,94}
\definecolor{RedTypename}{RGB}{182,86,17}
\definecolor{GreenString}{RGB}{96,172,57}
\definecolor{PurpleKeyword}{RGB}{184,84,212}
\definecolor{GrayComment}{RGB}{170,170,170}
\definecolor{GoldDocumentation}{RGB}{180,165,45}
\definecolor{RedError}{RGB}{180,50,70}

\lstMakeShortInline@

\lstdefinelanguage{rust}{
    keywords={
        true,false,
        unsafe,async,await,move,
        use,pub,crate,super,self,mod,
        struct,enum,fn,const,static,let,mut,ref,type,impl,dyn,trait,where,as,
        break,continue,if,else,while,for,loop,match,return,yield,in
    },
    ndkeywords={
        bool,u8,u16,u32,u64,u128,i8,i16,i32,i64,i128,char,str,
        Self,Option,Some,None,Result,Ok,Err,String,Box,Vec,Rc,Arc,Cell,RefCell,HashMap,BTreeMap,
        macro_rules
    },
    comment=[l]{//},
    morecomment=[s][\color{GrayComment}\slshape]{/*}{*/},
    morecomment=[l][\color{GoldDocumentation}\slshape]{///},
    morecomment=[s][\color{GoldDocumentation}\slshape]{/*!}{*/},
    morecomment=[l][\color{GoldDocumentation}\slshape]{//!},
    morecomment=[s][\color{RedTypename}]{\#![}{]},
    morecomment=[s][\color{RedTypename}]{\#[}{]},
    string=[b]"
    string=[b]'
}

\lstdefinelanguage{spl}{
    keywords={
        True,False,if,else,while,return,var,hd,tl,fst,snd,
        not,neg,add,sub,mul,div,mod,eq,ne,lt,gt,le,ge,and,or,cons,print,show,isEmpty,class,instance,for,show
    },
    ndkeywords={
        Int,Bool,Char,Void,Eq,Ord,Show,Add,Sub,Mul,Div,Mod,Neg,And,Or,Not,Cons,This,Any,Print,Fst,Snd,Hd,Tl,
    },
    comment=[l]{//},
    morecomment=[s][\color{GrayComment}\slshape]{/*}{*/},
    string=[b]',
}

\lstdefinestyle{style}{
    columns=fullflexible,
    keepspaces=true,
    frame=single,
    framesep=0pt,
    framerule=0pt,
    framexleftmargin=4pt,
    framexrightmargin=4pt,
    framextopmargin=5pt,
    framexbottommargin=3pt,
    xleftmargin=4pt,
    xrightmargin=4pt,
    backgroundcolor=\color{GrayCodeBlock},
    basicstyle=\ttfamily\color{BlackText},
    keywordstyle=\color{PurpleKeyword},
    ndkeywordstyle=\color{RedTypename},
    stringstyle=\color{GreenString},
    commentstyle=\color{GrayComment}\slshape,
}

\lstset{
    language=spl,
    style=style,
}

\author{Rick~van~der~Wal \\ \small s1005618}
\date{\today}
\title{My compiler}

\begin{document}

\maketitle

\tableofcontents

\include{introduction}
\include{parsing}
\include{typing}
\include{generating}
\include{extending}
\include{conclusion}

\appendix

\include{grammar}
\include{grammar_extended}

\printbibliography

\end{document}
